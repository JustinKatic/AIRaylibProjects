#pragma once
#include "GameObject.h"
#include <vector>
class Graph2D;
class Graph2DEditor;
class Player;


enum MAP_ITEMS
{
	EMPTY = 0,
	WALL = 1,
	FOOD = 2,
	POWERUP = 3,
	START = 4,
	BLUEGHOST = 5,
	REDGHOST = 6
};


class Application
{
public:

	struct Rect
	{
		Vector2 pos;
		Vector2 size;
	};

	Application();
	~Application();

	void Run();

	void Update(float deltaTime);
	void Draw();

	void Load();
	void Unload();

	Player* GetPlayer();
	Graph2D* GetGraph();

	std::vector<Rect> noGo;

private:
	GameObject* m_player = nullptr;
	GameObject* m_redGhost = nullptr;
	int m_windowWidth;
	int m_windowHeight;

	//===============================================================================================================
	Graph2D* m_graph = nullptr;
	Graph2DEditor* m_graphEditor = nullptr;
	//===============================================================================================================




	int m_screenWidth;
	int m_screenHeight;

	int m_tileWidth;
	int m_tileHeight;

	static const int MAP_ROWS = 30;
	static const int MAP_COLS = 56;




	int m_map[MAP_ROWS][MAP_COLS] = {
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
		{1,0,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,0,1},
		{1,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1},
		{1,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,1},
		{1,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1},
		{1,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1},
		{1,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1,1,1,1,1,1,0,2,2,0,1},
		{1,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,0,1},
		{1,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1},
		{1,0,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,6,0,1},
		{1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
		{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1},
	};

};